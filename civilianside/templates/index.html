{% extends 'base.html' %}

{% block name %}
Home
{% endblock name %}

{% block homeattribute %}
style="color: #ff00ff;"
{% endblock homeattribute %}

{% block bodyy %}
<section id="announcementSection" class="text-gray-600 body-font overflow-hidden">
    <div class="container px-5 mx-auto">
        <div class="py-8 divide-y-2 divide-gray-100">
            <div class="announcement flex flex-wrap md:flex-nowrap">
                <div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col">
                    <span class="font-semibold title-font text-gray-700">Announcement</span>
                    <span class="mt-1 text-gray-500 text-sm">2023-04-13 09:30 AM</span>
                </div>
                <div class="md:flex-grow">
                    <h2 class="text-2xl font-medium white title-font mb-2">Major fire break out in industry near Okhala
                    </h2>
                    <p class="leading-relaxed">A major fire broke out in an industry near Okhala, causing significant
                        damage to the property and resulting in multiple injuries. Firefighters and emergency services
                        are on the scene, working to contain the fire and provide medical assistance to those injured.
                    </p>
                    <a class="text-indigo-500 inline-flex items-center mt-4" style="margin-left: auto;">Learn More
                        <svg class="arrow ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14"></path>
                            <path d="M12 5l7 7-7 7"></path>
                        </svg>
                    </a>
                </div>
            </div>
            <div class="announcement flex flex-wrap md:flex-nowrap">
                <div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col">
                    <span class="font-semibold title-font text-gray-700">Announcement</span>
                    <span class="mt-1 text-gray-500 text-sm">2023-03-12 11:45 AM</span>
                </div>
                <div class="md:flex-grow">
                    <h2 class="text-2xl font-medium white title-font mb-2">Minor earthquake of scale 4.2 hit Delhi</h2>
                    <p class="leading-relaxed">A minor earthquake of scale 4.2 hit Delhi today at 11:45 AM, causing no
                        harm to anyone and only minor property damage. The earthquake was quickly contained, and no
                        further action is required.</p>
                    <a class="text-indigo-500 inline-flex items-center mt-4" style="margin-left: auto;">Learn More
                        <svg class="arrow ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14"></path>
                            <path d="M12 5l7 7-7 7"></path>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
<div class="container mx-auto px-5 mt-8">
    <form id="announcementForm" class="flex flex-wrap -m-2">
        <div class="p-2 w-full">
            <input type="text" id="announcementTitle"
                class="w-full bg-gray-800 rounded border border-gray-700 py-2 px-4 placeholder-gray-600 text-gray-100 focus:outline-none focus:bg-gray-900 focus:border-indigo-500 mb-4"
                placeholder="Enter announcement title...">
            <textarea id="announcementText"
                class="w-full bg-gray-800 rounded border border-gray-700 py-2 px-4 placeholder-gray-600 text-gray-100 focus:outline-none focus:bg-gray-900 focus:border-indigo-500 mb-4"
                placeholder="Enter announcement body..."></textarea>
            <button id="addAnnouncementBtn"
                class="text-white bg-indigo-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg">Add
                Announcement</button>
        </div>
    </form>
</div>
<script>
    document.getElementById("addAnnouncementBtn").addEventListener("click", function (event) {
        event.preventDefault();
        var announcementTitle = document.getElementById("announcementTitle").value.trim();
        var announcementBody = document.getElementById("announcementText").value.trim();
        if (announcementTitle !== "" && announcementBody !== "") {
            addAnnouncement(announcementTitle, announcementBody);
            document.getElementById("announcementTitle").value = "";
            document.getElementById("announcementText").value = "";
        } else {
            alert("Please enter both title and body of the announcement.");
        }
    });

    function addAnnouncement(title, body) {
        var announcementSection = document.getElementById("announcementSection");
        var newAnnouncement = document.createElement("div");
        newAnnouncement.classList.add("announcement", "flex", "flex-wrap", "md:flex-nowrap", "new-announcement");
        newAnnouncement.innerHTML = `
        <div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col">
            <span class="font-semibold title-font text-gray-700">Announcement</span>
            <span class="mt-1 text-gray-500 text-sm">${getCurrentDateTime()}</span>
        </div>
        <div class="md:flex-grow">
            <h2 class="text-2xl font-medium white title-font mb-2">${title}</h2>
            <p class="leading-relaxed">${body}</p>
            <a class="text-indigo-500 inline-flex items-center mt-4" style="margin-left: auto;">Learn More
                <svg class="arrow ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M5 12h14"></path>
                    <path d="M12 5l7 7-7 7"></path>
                </svg>
            </a>
        </div>
    `;
        announcementSection.insertBefore(newAnnouncement, announcementSection.firstChild);
    }

    function getCurrentDateTime() {
        var date = new Date();
        var year = date.getFullYear();
        var month = (date.getMonth() + 1).toString().padStart(2, '0');
        var day = date.getDate().toString().padStart(2, '0');
        var hours = date.getHours().toString().padStart(2, '0');
        var minutes = date.getMinutes().toString().padStart(2, '0');
        return `${year}-${month}-${day} ${hours}:${minutes}`;
    }
</script>
{% endblock bodyy %}